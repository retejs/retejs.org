<template>
  <svg
    xmlns:dc="http://purl.org/dc/elements/1.1/"
    xmlns:cc="http://creativecommons.org/ns#"
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
    xmlns:svg="http://www.w3.org/2000/svg"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
    xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
    width="210mm"
    height="140mm"
    :viewBox="zoomIn ? '40 40 130 80' : '0 0 210 140'"
    version="1.1"
    id="svg8"
    inkscape:version="0.92.3 (unknown)"
    sodipodi:docname="d3ne1.svg"
    :class="{ hover }">
    <defs id="defs2" />
    <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1">
      <path
        id="connection1"
        class="conn g1"
        sodipodi:nodetypes="csc"
        inkscape:connector-curvature="0"
        d="m 77.141679,29.402886 c 0,0 12.577135,0.165961 24.279231,15.699695 11.1117,14.750022 20.01804,23.189378 28.12198,23.338484"
        style="display:inline;fill:none;stroke:#477cac;stroke-width:1.8283757;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1" />
      <path
        id="connection2"
        class="conn g1"
        style="display:inline;fill:none;stroke:#477cac;stroke-width:1.8283757;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-opacity:1"
        d="m 76.617977,107.67127 c 0,0 10.155521,0.47651 24.453903,-11.498097 13.88445,-11.627953 21.55187,-13.609597 27.94731,-14.01087"
        inkscape:connector-curvature="0"
        sodipodi:nodetypes="csc" />
      <path
        id="node2"
        class="g2"
        inkscape:connector-curvature="0"
        d="m 77.472147,88.758223 c 0.09478,-2.103443 -1.099485,-3.459718 -3.587789,-3.479758 L 8.9965714,85.247633 c -2.377694,0.01363 -3.4723043,1.444726 -3.2947557,3.547949 0.021008,12.870228 -0.08944,27.305578 -0.015319,40.170848 0.040775,2.3965 0.9124817,4.02953 3.1917957,3.99385 21.3488056,0.12557 43.8324806,-0.0717 65.1817576,-0.0582 2.946712,0.007 3.49859,-1.26513 3.452388,-3.33742 0.0069,-2.27705 -0.0015,-6.14211 0.0053,-8.41915"
        style="display:inline;fill:#8ba0ff;fill-rule:evenodd;stroke:none;stroke-width:0.48840621" />
      <path
        id="node3"
        class="g2"
        inkscape:connector-curvature="0"
        d="m 131.98282,17.743757 c -4.40538,1.315696 -2.42344,6.6797 -2.85885,10.048455 -0.0789,16.980576 0.0873,33.96669 -0.18905,50.94347 5.3e-4,4.072046 -0.91967,8.317714 0.27717,12.277656 1.81431,3.627123 6.27855,2.159331 9.48794,2.479535 19.53309,0.03311 39.06621,0.01455 58.59931,0.02074 4.4733,-1.024916 3.05871,-6.071637 3.2433,-9.376111 0.27388,-17.350933 -0.11397,-34.700471 -0.0809,-52.051773 -0.004,-3.954917 0.16386,-7.920526 -0.0669,-11.870165 -1.26259,-3.619024 -5.61414,-2.235315 -8.51446,-2.534759 -19.96562,-0.02134 -39.9324,-0.05805 -59.89758,0.06293 z"
        style="display:inline;fill:#ffd92c;fill-rule:evenodd;stroke:none;stroke-width:0.48840621" />
      <path
        id="node1"
        class="g2"
        inkscape:connector-curvature="0"
        d="M 9.5326516,7.5145037 C 7.1069517,7.5100481 5.6641867,8.7893045 5.6778022,11.678068 5.726893,24.41936 5.5327232,38.58761 5.7782909,51.325861 c 0.078965,2.035288 2.0194931,3.87742 4.2157676,3.803225 l 62.6115495,-0.08721 c 2.82537,0.09824 5.001496,-2.016816 4.891491,-5.057573 0.07929,-13.182064 0.203806,-25.732216 -0.07019,-38.91256 C 77.36059,8.7614214 76.086437,7.3835461 72.927385,7.4272915 51.497888,7.4358904 30.961729,7.4051194 9.5326516,7.5145037 Z"
        style="display:inline;fill:#8ba0ff;fill-rule:evenodd;stroke:none;stroke-width:0.48840621" />
      <path
        id="content2"
        class="g1"
        sodipodi:nodetypes="ccccccccccccccccc"
        inkscape:connector-curvature="0"
        d="m 35.185992,91.057571 c -0.124912,0.916408 0.09382,-0.403288 -0.0505,2.068383 -7.703428,-0.04347 -17.028376,0.347848 -24.717454,0.09248 0.04552,-1.618409 0.08235,-0.90582 0.135184,-2.187962 m 57.189434,15.627678 0.03702,1.48434 c -4.467427,0.0517 -14.877606,-0.0945 -19.256253,-0.18593 -0.216656,-0.43048 -0.205668,-1.00544 0.003,-1.43689 m 17.50941,10.55846 c 4.022005,1.28244 4.01584,6.63223 1.379448,8.68276 -0.888207,0.67301 -1.883631,0.92452 -3.315871,1.01045 -13.869037,0.0564 -32.374507,0.27045 -46.239613,-0.0531 -3.484504,-0.55043 -5.058759,-4.86742 -2.958796,-7.84613 1.9318,-2.39426 5.880412,-1.98073 9.002707,-1.88638 13.819974,-0.019 21.623989,0.004 35.443969,0.008 0.212659,0.0937 4.702044,-0.091 6.688156,0.0841 z"
        style="display:inline;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.48840621" />
      <path
        id="content3"
        class="g1"
        style="display:inline;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.48840621"
        d="m 158.34706,82.114623 c -0.0477,0.484994 -0.0969,1.35522 -0.0969,1.35522 -3.46057,-0.193668 -15.4545,-0.135274 -18.75219,-0.121428 -0.0122,-0.380289 -0.025,-0.934985 -0.0377,-1.315257 m 18.84713,-14.205326 -0.0102,1.272048 c -3.79996,-0.06028 -17.62833,-0.04308 -18.79249,-0.05394 0.0588,-0.286372 0.14066,-1.395378 0.14066,-1.395378 M 189.17958,49.71141 c 3.06433,1.301201 4.28591,5.737547 1.61748,8.027442 -1.61296,1.978572 -4.16702,1.127905 -6.35331,1.305023 h -43.63689 c -3.17619,-1.036709 -4.77632,-5.385871 -2.26346,-7.896975 2.4161,-2.376535 7.453,-1.49149 10.90722,-1.563721 13.24281,0.0082 26.4873,-0.03307 39.72897,0.128231 z m 1.5784,-11.042133 -0.12333,1.563137 c -3.89022,-0.01958 -15.03994,-0.272079 -18.92975,-0.210496 0,0 -0.007,-0.780621 -0.0264,-1.525291 M 152.49808,25.134529 c -6.37511,0.06063 -12.75063,0.106732 -19.12605,0.08463 l 0.0907,-2.104881 c 3.62076,-0.01984 15.39532,-0.05528 19.01615,-0.04473"
        inkscape:connector-curvature="0"
        sodipodi:nodetypes="cccccccccccccccccccccccc" />
      <path
        id="content1"
        class="g1"
        style="display:inline;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:0.48840621"
        d="m 35.344983,13.209289 c 0.177623,2.868522 0.202137,0.555988 0.115282,2.378084 -7.544977,0.140958 -17.509297,0.129117 -25.042304,-0.189155 V 13.296117 M 67.568225,28.70809 c 0.03473,0.463395 0.0076,1.392902 0.0076,1.392902 -4.514337,0.03429 -14.534377,-0.0067 -19.0334,0.02756 -0.02479,-0.491001 -2.91e-4,-1.005233 -0.02295,-1.449102 m 17.047851,10.6453 c 3.81335,0.890573 4.970601,6.599745 1.644618,8.761992 -0.688328,0.942783 -5.531298,0.967638 -8.095843,0.970145 -13.626979,-0.01561 -27.268978,0.0622 -40.889209,-0.02957 -3.18407,-0.356275 -5.171499,-3.93988 -3.873659,-6.93442 1.465379,-3.231658 5.858436,-2.917405 9.020805,-2.954087 14.064069,0.0093 28.13112,-0.03281 42.193288,0.185924 z"
        inkscape:connector-curvature="0"
        sodipodi:nodetypes="cccccccccccccccc" />
      <circle id="socket1" class="s g1" r="4.4" cx="78" cy="30" stroke-width="0.5" fill="#85ad5a" stroke="#ffffff" />
      <circle id="socket3" class="s g1" r="4.4" cx="129" cy="68" stroke-width="0.5" fill="#85ad5a" stroke="#ffffff" />
      <circle id="socket4" class="s g1" r="4.4" cx="129" cy="83" stroke-width="0.5" fill="#85ad5a" stroke="#ffffff" />
      <circle id="socket5" class="s g1" r="4.4" cx="201" cy="40" stroke-width="0.5" fill="#85ad5a" stroke="#ffffff" />
      <circle id="socket2" class="s g1" r="4.4" cx="78" cy="107" stroke-width="0.5" fill="#85ad5a" stroke="#ffffff" />
    </g>
  </svg>
</template>

<script setup lang="ts">
interface Props {
  hover?: boolean
  zoomIn?: boolean
}

withDefaults(defineProps<Props>(), {
  hover: true,
  zoomIn: true
})
</script>

<style scoped>
.g1 {
  transition: 0.4s;
  transition-delay: 0.5s;
}

svg:hover .g1, svg.hover .g1 {
  transition-delay: 0s !important;
}

.g2 {
  transition: 0.5s;
  transition-delay: 0s;
}

svg:hover .g2, svg.hover .g2 {
  transition-delay: 0.4s;
}

#node1 {
  transform-origin: 30px 30px;
}

#node2 {
  transform-origin: 30px 100px;
}

#node3 {
  transform-origin: 160px 40px;
}

svg:hover #node1, svg.hover #node1 {
  transform: translate(62px, 30px) skewX(-15deg) rotate(15deg)
}

svg:hover #node2, svg.hover #node2 {
  transform: translate(70px, -28px) skewX(-15deg) rotate(15deg)
}

svg:hover #node3, svg.hover #node3 {
  transform: translate(-55px, 25px) skewX(-15deg) rotate(15deg) scaleY(0.6)
}

svg:hover .s, svg.hover .s {
  r: 0;
}

svg:hover #content1, svg:hover #content2, svg:hover #content3,
svg.hover #content1, svg.hover #content2, svg.hover #content3 {
  opacity: 0;
}

#connection1 {
  stroke-dasharray: 70; stroke-dashoffset: 140;
}
#connection2 {
  stroke-dasharray: 70; stroke-dashoffset: 0;
}

svg:hover .conn, svg.hover .conn {
  stroke-dashoffset: 70 !important;
}
</style>
